import { useQuery } from '@tanstack/react-query';

export interface ModelInfo {
  name: string;
  provider: string;
}

export function useAIModels(provider: string) {
  return useQuery<ModelInfo[]>({
    queryKey: ['ai-models', provider],
    enabled: !!provider,
    queryFn: async () => {
      const res = await fetch(`/api/ai/models?provider=${provider}`);
      if (!res.ok) throw new Error('Failed to load models');
      return res.json();
    },
  });
}
