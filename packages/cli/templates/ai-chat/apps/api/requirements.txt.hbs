# templates/ai-chat/apps/api/requirements.txt.hbs
# FastAPI and ASGI server
fastapi==0.115.10
uvicorn[standard]==0.34.0

# Database
motor==3.3.2
beanie==1.30.0
pymongo==4.13

# HTTP client for AI providers
httpx==0.28.1

{{#if features.auth}}
# Authentication
python-jose[cryptography]==3.5.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.2
{{/if}}

{{#if ai.providers.openai.enabled}}
# OpenAI
openai==1.86.0
{{/if}}

# Configuration management
pydantic[email]==2.1.0
pydantic-settings==2.1.0

# Logging
python-json-logger==3.13.4
coloredlogs==15.0.1

# Development dependencies
pytest==8.4.0
pytest-asyncio==1.0.0
pytest-mock==3.14.0
httpx==0.28.1  # For testing
black==25.1.0
isort==6.0.1
flake8==8.7.0
mypy==1.15

# Optional performance enhancements
orjson==2.0.1  # Faster JSON parsing
python-dotenv==1.1.0  # Environment variable loading

{{#if features.realtime}}
# WebSocket support
websockets==15.0.1
{{/if}}

# Security headers and middleware
python-multipart==0.0.2

# Production dependencies
gunicorn==23.0.0  # Production WSGI server

# Monitoring and observability (optional)
prometheus-client==0.22.1  # Metrics
sentry-sdk[fastapi]==2.29.1  # Error tracking